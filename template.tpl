___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "TradeTracker Conversion",
  "categories": ["AFFILIATE_MARKETING", "CONVERSIONS"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Create a TradeTracker sales or lead conversion callback.",
  "containerContexts": [
    "SERVER"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "SELECT",
    "name": "endpoint",
    "displayName": "Conversion type:",
    "selectItems": [
      {
        "value": "https://ts.tradetracker.net/",
        "displayValue": "Sales Conversion"
      },
      {
        "value": "https://tl.tradetracker.net/",
        "displayValue": "Lead Conversion"
      }
    ],
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "clickID",
    "displayName": "TradeTracker Click ID:",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "campaignID",
    "displayName": "Campaign ID:",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "POSITIVE_NUMBER"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "productID",
    "displayName": "Product ID:",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "POSITIVE_NUMBER"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "transactionID",
    "displayName": "Transaction ID:",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "transactionAmount",
    "displayName": "Transaction amount:",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "endpoint",
        "paramValue": "https://ts.tradetracker.net/",
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "REGEX",
        "args": [
          "[+-]?([0-9]*[.])?[0-9]+"
        ],
        "errorMessage": "Please enter a valid floating point number."
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "descrMerchant",
    "displayName": "Merchant description:",
    "simpleValueType": true,
    "help": "Detailed description of the order. Used for statistical purposes. Visible for the merchant only. You can add variable values here and/or other order information you might want to see in your TradeTracker account. Use this to add product information or order information."
  },
  {
    "type": "TEXT",
    "name": "descrAffiliate",
    "displayName": "Affiliate description:",
    "simpleValueType": true,
    "help": "Description of the order. Visible for affiliates only. Used by affiliates for campaign optimisation."
  },
  {
    "type": "GROUP",
    "name": "additionalSettings",
    "displayName": "Additional settings",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "TEXT",
        "name": "trackingGroupID",
        "displayName": "Group ID:",
        "simpleValueType": true,
        "help": "Used to group campaigns for multiple countries. Leave blank by default unless instructed to do otherwise by TradeTracker.",
        "valueValidators": [
          {
            "type": "POSITIVE_NUMBER"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "currency",
        "displayName": "Currency:",
        "simpleValueType": true,
        "help": "Currency of the transaction. ISO 4217 standard, e.g. EUR, USD, GBP, PLN etc. Defaults to company currency if left empty. Also used in combination with our automatic currency conversion option This option is turned off by default. Ask your account manager if you need this option to be activated.",
        "valueValidators": [
          {
            "type": "STRING_LENGTH",
            "args": [
              3,
              3
            ],
            "errorMessage": "Enter a valid ISO 4217 currency code."
          }
        ],
        "enablingConditions": [
          {
            "paramName": "endpoint",
            "paramValue": "https://ts.tradetracker.net/",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "voucherCode",
        "displayName": "Voucher Code:",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "endpoint",
            "paramValue": "https://ts.tradetracker.net/",
            "type": "EQUALS"
          }
        ],
        "help": "The (main) discount code used for the order in question. Used in case you would like to work with unique voucher codes for certain publishers."
      }
    ]
  }
]


___SANDBOXED_JS_FOR_SERVER___

const encodeUriComponent = require('encodeUriComponent');
const sendHttpGet = require('sendHttpGet');
const endpoint = data.endpoint;
const campaignID = data.campaignID;
const productID = data.productID;
const trackingGroupID = data.trackingGroupID;
const transactionID = data.transactionID;
const currency = data.currency;
const transactionAmount = data.transactionAmount;
const voucherCode = data.voucherCode;
const descrMerchant = data.descrMerchant;
const descrAffiliate = data.descrAffiliate;
const clickID = data.clickID;

let getUrl = endpoint + '?cid=' + encodeUriComponent(campaignID) + '&pid=' + encodeUriComponent(productID);

if (trackingGroupID) {
  getUrl += '&tgi=' + encodeUriComponent(trackingGroupID);
}

getUrl += '&tid=' + encodeUriComponent(transactionID);

if (currency) {
  getUrl += '&currency=' + encodeUriComponent(currency);
}

if (transactionAmount) {
  getUrl += '&tam=' + encodeUriComponent(transactionAmount);
}

if (voucherCode) {
  getUrl += '&vc=' + encodeUriComponent(voucherCode);
}

if (descrMerchant) {
  getUrl += '&descrMerchant=' + encodeUriComponent(descrMerchant);
}

if (descrAffiliate) {
  getUrl += '&descrAffiliate=' + encodeUriComponent(descrAffiliate);
}

getUrl += '&data=' + encodeUriComponent(clickID);

sendHttpGet(getUrl, (statusCode, headers, body) => {
  if (statusCode >= 200 && statusCode <= 300) {
    data.gtmOnSuccess();
  } else {
    data.gtmOnFailure();
  }
}, {headers: {'Cache-Control': 'no-cache', 'Connection': 'keep-alive'}});


___SERVER_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "send_http",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://ts.tradetracker.net/"
              },
              {
                "type": 1,
                "string": "https://tl.tradetracker.net/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 22/02/2022, 17:26:53


